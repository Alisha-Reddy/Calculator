<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTML Calculator | Minor project 2</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <style>
      body{
        background-image: url(https://img.pikbest.com/backgrounds/20190924/technology-background-with-blue-gradient-background-v_1559315jpg!bwr800);
        background-repeat: none;
        background-size: cover;
      }
      .card{
        background-color: #0e09362b;
        border-radius: 40px;
        box-shadow: 20px 20px 10px 10px #00000064;
        border-style: solid;
        border-color: #5352522a;
        margin-left: -10px;
        margin-top: 20px;
      }
      .calc-btn {
        width: 60px;
        height: 60px;
        background-color: #4f4f4f20;
        box-shadow: 8px 7px 5px 2px #0000007b ;
        border: none;
        color: whitesmoke;
        font-size: 19px;
      }
      #num{
        font-size: 16px;
      }
      .calc-display {
        background-color:#00000073;
        color: rgb(255, 255, 255);
        height: 100px;
        width: 310px;
        border-radius: 10px;
        box-shadow: 15px 15px 10px 8px #00000052 inset;
      }

      #type{
        height: 50%;
        text-align: left;
        font-size: 15px;
        color: whitesmoke;
        font-size: 20px;
        padding-top: 10px;
      }
      #result{
        height: 50%;
        text-align: right;
        font-size: 23px;
        color: whitesmoke;
        margin-bottom: 5px;
      }
      .calc-btn:hover{
        background-color: #00000022;
        color: whitesmoke;
        box-shadow: 10px 10px 8px 10px #00000042 inset;
      }
      
    </style>
  </head>
  <body>
    <div class="container p-5">
      <div class="d-flex justify-content-center">
        <div class="col-sm-12 col-md-4 col-lg-4">
          <div class="card">
            <div class="d-flex justify-content-center align-items-center p-3">
              <div class="row">
                <div
                  class="col-sm-12 col-md-12 col-lg-12 col-xl-12 calc-display"
                >

                  <div id="type"></div>
                  <div id="result"></div>
                  <!-- <div class="inputString"></div>
                  <div class="expressionString"></div>
                  <div class="valueString"></div> -->
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-center align-items-center p-3">
              <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn  " id="num"
                    data-event_key="NumLock"
                  >
                    <small> Num Lock </small>
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="clear"
                    data-event_key="Delete"
                  >
                    CE
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="erase"
                    data-event_key="Delete"
                  >
                    Del
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="div"
                    data-event_key="/"
                  >
                    /
                  </button>
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-center align-items-center p-3">
              <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="sev"
                    data-event_key="7"
                  >
                    7
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="ei"
                    data-event_key="8"
                  >
                    8
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="ni"
                    data-event_key="9"
                  >
                    9
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="mul"
                    data-event_key="*"
                  >
                    X
                  </button>
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-center align-items-center p-3">
              <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="fo"
                    data-event_key="4"
                  >
                    4
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="fi"
                    data-event_key="5"
                  >
                    5
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="si"
                    data-event_key="6"
                  >
                    6
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="min"
                    data-event_key="-"
                  >
                    -
                  </button>
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-center align-items-center p-3">
              <div class="row">
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="on"
                    data-event_key="1"
                  >
                    1
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="tw"
                    data-event_key="2"
                  >
                    2
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="th"
                    data-event_key="3"
                  >
                    3
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="pl"
                    data-event_key="+"
                  >
                    +
                  </button>
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-center align-items-center p-3">
              <div class="row">
                <div class="col-sm-6 col-md-6 col-lg-6 col-xl-6">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="ze"
                    data-event_key="0"
                    style="width: 150px"
                  >
                    0
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="dot"
                    data-event_key="."
                  >
                    .
                  </button>
                </div>
                <div class="col-sm-3 col-md-3 col-lg-3 col-xl-3">
                  <button
                    type="button"
                    class="btn btn-light calc-btn " id="eq"
                    data-event_key="="
                  >
                    =
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.min.js"
      integrity="sha384-heAjqF+bCxXpCWLa6Zhcp4fu20XoNIA98ecBC1YkdXhszjoejr5y9Q77hIrv8R9i"
      crossorigin="anonymous"
    ></script>
    <!-- <script src="./Bootstrap/js/bootstrap.js"></script> -->

    <script>
      // $(document).on('keypress', function (e) {
        // $('button[data-event_key="'+e.key+'"]').addClass('active');
        // console.log(e.key);
      // })
      // $(document).on('keyup', function (e) {
      //   $('button[data-event_key="'+e.key+'"]').addClass('active');
      //   console.log(e.key);
      // })

      var erase = document.querySelector("#erase");
      var numLock = document.querySelector("#num");
      var clear = document.querySelector("#clear");
      var equal = document.querySelector("#eq");

      var btn_0 = document.querySelector("#ze");
      var btn_1 = document.querySelector("#on");
      var btn_2 = document.querySelector("#tw");
      var btn_3 = document.querySelector("#th");
      var btn_4 = document.querySelector("#fo");
      var btn_5 = document.querySelector("#fi");
      var btn_6 = document.querySelector("#si");
      var btn_7 = document.querySelector("#sev");
      var btn_8 = document.querySelector("#ei");
      var btn_9 = document.querySelector("#ni");

      var btn_plus = document.querySelector("#pl");
      var btn_minus = document.querySelector("#min");
      var btn_multi = document.querySelector("#mul");
      var btn_div = document.querySelector("#div");
      var btn_dot = document.querySelector("#dot");

      var write_me = document.querySelector("#type");
      var result = document.querySelector("#result");

      btn_0.onclick = ()=>{
        type_to(0);
      }
      btn_0.onclick = ()=>{
        type_to(0);
      }
      btn_1.onclick = ()=>{
        type_to(1);
      }
      btn_2.onclick = ()=>{
        type_to(2);
      }
      btn_3.onclick = ()=>{
        type_to(3);
      }
      btn_4.onclick = ()=>{
        type_to(4);
      }
      btn_5.onclick = ()=>{
        type_to(5);
      }
      btn_6.onclick = ()=>{
        type_to(6);
      }
      btn_7.onclick = ()=>{
        type_to(7);
      }
      btn_8.onclick = ()=>{
        type_to(8);
      }
      btn_9.onclick = ()=>{
        type_to(9);
      }
      btn_plus.onclick = ()=>{
        type_to("+");
      }
      btn_minus.onclick = ()=>{
        type_to("-");
      }
      btn_multi.onclick = ()=>{
        type_to("X");
      }
      
      btn_dot.onclick = ()=>{
        type_to(".");
      }
      clear.onclick = ()=>{
        clear_screen();
      }
      erase.onclick = ()=>{
        erase_screen();
      }
      equal.onclick = () =>{
        calculate();
      }
      

      document.onkeyup = e =>{
        if(e.key =="0" || e.key =="Num0"){
          type_to(0);
        }
        else if(e.key =="1" || e.key =="Num1"){
          type_to(1);
        }
        else if(e.key =="2" || e.key =="Num2"){
          type_to(2);
        }
        else if(e.key =="3" || e.key =="Num3"){
          type_to(3);
        }
        else if(e.key =="4" || e.key =="Num4"){
          type_to(4);
        }
        else if(e.key =="5" || e.key =="Num5"){
          type_to(5);
        }
        else if(e.key =="6" || e.key =="Num6"){
          type_to(6);
        }
        else if(e.key =="7" || e.key =="Num7"){
          type_to(7);
        }
        else if(e.key =="8" || e.key =="Num8"){
          type_to(8);
        }
        else if(e.key =="9" || e.key =="Num9"){
          type_to(9);
        }
        else if(e.key =="+" || e.key =="Num+"){
          type_to("+");
        }
        else if(e.key =="-" || e.key =="Num-"){
          type_to("-");
        }
        else if(e.key =="*" || e.key =="Num*"){
          type_to("X");
        }
        else if(e.key =="/" || e.key =="Num/"){
          type_to("/");
        }
        else if(e.key =="." || e.key =="Num."){
          type_to(".");
        }
        else if(e.key == "Enter" || e.key == "Numenter"){
          calculate();
        }
        else if(e.key == "Delete"){
          clear_screen();
        }
        else if(e.key == "Backspace" || e.key == "Escape"){
          erase_screen();
        }
      }

      var type_to = text =>{
        if (write_me.innerText == ""){
          write_me.innerText = text;
        }
        else if (write_me.innerText.length<=23){
          write_me.innerText = write_me.innerText + text;
        }
        else{
          alert("Digit limit reached");
        }
      }

      var calculate = () =>{
        var res = write_me.innerText;
        if(res.indexOf("/")== -1){
          if(res.indexOf("X")!= -1){
          res = res.replace("X","*");
        }
        }
        
        else{
          res = res.replace("/","");
          if(res.indexOf("X") != -1){
            var res_ar = res.split("X");
            var total = eval(res_ar[0]);
            var need = eval(res_ar[1]);
            res = (need / 100) * total;
          }
          else{
            alert("Math error. Division can't be evaluate without multiplication")
          }
        }
        result.innerText = eval(res);
      }

      var clear_screen = () =>{
        write_me.innerText = "";
      }

      var erase_screen = () =>{
        write_me.innerText = write_me.innerText.substr(0,write_me.innerText.length -1);
      }

    </script>
  </body>
</html>
